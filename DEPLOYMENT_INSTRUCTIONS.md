# הוראות פריסה ל-Vercel

## הקדמה
המסמך מפרט את התהליך לפריסת האפליקציה ל-Vercel באמצעות ממשק האינטרנט.

## שלבים לפריסה
1. **התחברות ל-Vercel**
   - היכנס ל [https://vercel.com](https://vercel.com)
   - בצע התחברות באמצעות GitHub, GitLab, Bitbucket או חשבון דוא"ל

2. **יצירת פרויקט חדש**
   - לחץ על "Add New..." ואז "Project" בלוח הבקרה
   - קשר את חשבון ה-Git שלך אם עוד לא עשית זאת
   - בחר את המאגר `synthetic-research-mvp`

3. **תצורת הפרויקט**
   - השאר את הגדרות ברירת המחדל של המסגרת (Next.js)
   - ב"Build and Output Settings", ודא שההגדרות הבאות קיימות:
     - Build Command: `npm run build`
     - Output Directory: `.next`
   - הגדר משתני סביבה:
     - PDF_EXPORT_ENABLED: 'false'
     - NODE_ENV: 'production'

4. **פריסה**
   - לחץ על "Deploy"
   - המתן שהפריסה תושלם

## לאחר הפריסה
- Vercel יספק לך כתובת URL מותאמת אישית לאפליקציה
- באפשרותך להגדיר תחום מותאם אישי דרך הגדרות הפרויקט אם יש לך תחום זמין

## פריסה מחדש
בכל פעם שתבצע דחיפה לענף הראשי במאגר שלך, Vercel יפרוס באופן אוטומטי את הגרסה העדכנית ביותר.

## פתרון בעיות
אם אתה נתקל בשגיאת `ReferenceError: self is not defined` בעת הפריסה:

1. **פתרון שיושם:**
   - הסרנו את התלות ב-html2pdf.js מהפרויקט באמצעות `npm uninstall html2pdf.js`
   - יצרנו מודול חלופי (`moduleReplacement.js`) שמספק יישום ריק לספרייה
   - עדכנו את קובץ `next.config.js` לשימוש במודול החלופי
   - הוספנו קובץ `_app.tsx` עם פוליפיל ל-`self` בסביבת השרת
   - הגדרנו את משתנה הסביבה `PDF_EXPORT_ENABLED` כמחרוזת 'false'

2. **בדיקות נוספות:**
   - ודא שכל האזכורים ל-html2pdf.js הוסרו או הושבתו בקוד
   - ודא שאין ייבוא דינמי של הספרייה בשום מקום בקוד
   - במקרה של בעיות נוספות, שקול להשתמש בפתרון אחר ליצירת קבצי PDF או להשבית את הפונקציונליות לחלוטין

## טיפים נוספים
- באפשרותך להשתמש בסביבות תצוגה מוקדמת של Vercel כדי לבדוק שינויים לפני מיזוגם לענף הראשי
- ניתן להשתמש ב-GitHub Actions להגדרת זרימת עבודה אוטומטית לפריסה ל-Vercel (ראה קובץ `.github/workflows/deploy.yml`) 